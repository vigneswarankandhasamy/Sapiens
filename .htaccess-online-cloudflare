Options -MultiViews
RewriteEngine On

RewriteCond %{REQUEST_FILE} !-d
RewriteCond %{REQUEST_FILE} !-d

RewriteCond %{HTTP_HOST} !^www\.
RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]

# Allow sitemap.xml to pass through
RewriteRule ^sitemap.xml - [L]    

# Allow robots.txt to pass through
RewriteRule ^robots.txt - [L]    

RewriteRule ^(.+)$ index.php?url=$1 [QSA,L]